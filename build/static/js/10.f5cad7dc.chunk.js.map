{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","utils/styling.js","../node_modules/react-countdown/dist/index.es.js","views/Auth/TwoFactor.js"],"names":["_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","_slicedToArray","arr","i","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","_arrayLikeToArray","len","arr2","wrapperStyling","height","width","boxSizing","passwordToggleStyle","position","right","padding","cursor","profileOverlay","bottom","display","justifyContent","alignItems","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","p","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","zeroPad","arguments","strValue","String","match","prefix","suffix","strNo","paddedNo","map","join","concat","timeDeltaFormatOptionsDefaults","daysInHours","zeroPadTime","formatTimeDelta","delta","options","days","hours","minutes","seconds","_Object$assign","assign","_Object$assign$zeroPa","zeroPadDays","formattedHours","Math","min","Countdown","_React$Component","_this","this","apply","state","count","startCountdown","interval","window","setInterval","stopCountdown","onComplete","setState","prevState","clearInterval","addTime","children","React","cloneElement","Component","propTypes","PropTypes","number","element","func","Countdown$1","mounted","legacyMode","legacyCountdownRef","createRef","tick","onTick","timeDelta","calcTimeDelta","setTimeDeltaState","total","start","_ref","offsetStart","offsetTime","Date","now","onStart","controlled","intervalDelay","pause","calcOffsetStart","onPause","isPaused","isCompleted","completed","date","autoStart","onMount","prevProps","shallowCompareProps","_this$props","startTimestamp","_ref$now","_ref$precision","precision","_ref$controlled","_ref$offsetTime","getTime","round","parseFloat","max","toFixed","floor","milliseconds","Number","current","propsA","propsB","keysA","keys","some","keyA","valueA","valueB","hasOwnProperty","callback","_this2","api","_this$props2","getApi","formatted","_this$props3","_children","createElement","ref","_this$props4","renderer","renderProps","getRenderProps","countdown","_renderProps$formatte","defaultProps","oneOfType","instanceOf","string","bool","INITIAL_STATE","code","TwoFactor","useState","setValue","history","useHistory","dispatch","useDispatch","error","useSelector","user","expiry","useEffect","token","localStorage","getItem","setAuthorizationToken","getUserDetails","then","twoFactorCode","twoFactorCodeExpire","set2faCode","catch","className","style","Suspense","fallback","Loading","marginTop","onSubmit","e","preventDefault","confirm2faCode","userDetails","email","createdAt","profileImage","recoveryEmail","twoFactorEnable","setCurrentUser","removeCurrentUser","fontSize","message","type","placeholder","onChange","onClick","send2faCode","addError"],"mappings":"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","file":"static/js/10.f5cad7dc.chunk.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export const wrapperStyling = {\r\n  height: '100vh',\r\n  width: '100%',\r\n  boxSizing: 'border-box',\r\n};\r\n\r\nexport const passwordToggleStyle = {\r\n  position: 'absolute',\r\n  right: 0,\r\n  padding: '0.375rem 0.75rem',\r\n  cursor: 'pointer',\r\n};\r\n\r\nexport const profileOverlay = {\r\n  position: 'absolute',\r\n  height: '50px',\r\n  width: '50px',\r\n  right: 0,\r\n  bottom: 0,\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  cursor: 'pointer',\r\n};\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction zeroPad(value) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var strValue = String(value);\n  if (length === 0) return strValue;\n  var match = strValue.match(/(.*?)([0-9]+)(.*)/);\n  var prefix = match ? match[1] : '';\n  var suffix = match ? match[3] : '';\n  var strNo = match ? match[2] : strValue;\n  var paddedNo = strNo.length >= length ? strNo : (_toConsumableArray(Array(length)).map(function () {\n    return '0';\n  }).join('') + strNo).slice(length * -1);\n  return \"\".concat(prefix).concat(paddedNo).concat(suffix);\n}\nvar timeDeltaFormatOptionsDefaults = {\n  daysInHours: false,\n  zeroPadTime: 2\n};\nfunction calcTimeDelta(date) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$now = _ref.now,\n      now = _ref$now === void 0 ? Date.now : _ref$now,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? 0 : _ref$precision,\n      _ref$controlled = _ref.controlled,\n      controlled = _ref$controlled === void 0 ? false : _ref$controlled,\n      _ref$offsetTime = _ref.offsetTime,\n      offsetTime = _ref$offsetTime === void 0 ? 0 : _ref$offsetTime;\n\n  var startTimestamp;\n\n  if (typeof date === 'string') {\n    startTimestamp = new Date(date).getTime();\n  } else if (date instanceof Date) {\n    startTimestamp = date.getTime();\n  } else {\n    startTimestamp = date;\n  }\n\n  if (!controlled) {\n    startTimestamp += offsetTime;\n  }\n\n  var total = Math.round(parseFloat((Math.max(0, controlled ? startTimestamp : startTimestamp - now()) / 1000).toFixed(Math.max(0, Math.min(20, precision)))) * 1000);\n  var seconds = total / 1000;\n  return {\n    total: total,\n    days: Math.floor(seconds / (3600 * 24)),\n    hours: Math.floor(seconds / 3600 % 24),\n    minutes: Math.floor(seconds / 60 % 60),\n    seconds: Math.floor(seconds % 60),\n    milliseconds: Number((seconds % 1 * 1000).toFixed()),\n    completed: total <= 0\n  };\n}\nfunction formatTimeDelta(delta, options) {\n  var days = delta.days,\n      hours = delta.hours,\n      minutes = delta.minutes,\n      seconds = delta.seconds;\n\n  var _Object$assign = Object.assign({}, timeDeltaFormatOptionsDefaults, options),\n      daysInHours = _Object$assign.daysInHours,\n      zeroPadTime = _Object$assign.zeroPadTime,\n      _Object$assign$zeroPa = _Object$assign.zeroPadDays,\n      zeroPadDays = _Object$assign$zeroPa === void 0 ? zeroPadTime : _Object$assign$zeroPa;\n\n  var formattedHours = daysInHours ? zeroPad(hours + days * 24, zeroPadTime) : zeroPad(hours, Math.min(2, zeroPadTime));\n  return {\n    days: daysInHours ? '' : zeroPad(days, zeroPadDays),\n    hours: formattedHours,\n    minutes: zeroPad(minutes, Math.min(2, zeroPadTime)),\n    seconds: zeroPad(seconds, Math.min(2, zeroPadTime))\n  };\n}\n\nvar Countdown = function (_React$Component) {\n  _inherits(Countdown, _React$Component);\n\n  function Countdown() {\n    var _this;\n\n    _classCallCheck(this, Countdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Countdown).apply(this, arguments));\n    _this.state = {\n      count: _this.props.count || 3\n    };\n\n    _this.startCountdown = function () {\n      _this.interval = window.setInterval(function () {\n        var count = _this.state.count - 1;\n\n        if (count === 0) {\n          _this.stopCountdown();\n\n          _this.props.onComplete && _this.props.onComplete();\n        } else {\n          _this.setState(function (prevState) {\n            return {\n              count: prevState.count - 1\n            };\n          });\n        }\n      }, 1000);\n    };\n\n    _this.stopCountdown = function () {\n      clearInterval(_this.interval);\n    };\n\n    _this.addTime = function (seconds) {\n      _this.stopCountdown();\n\n      _this.setState(function (prevState) {\n        return {\n          count: prevState.count + seconds\n        };\n      }, _this.startCountdown);\n    };\n\n    return _this;\n  }\n\n  _createClass(Countdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.startCountdown();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children ? React.cloneElement(this.props.children, {\n        count: this.state.count\n      }) : null;\n    }\n  }]);\n\n  return Countdown;\n}(React.Component);\nCountdown.propTypes = {\n  count: PropTypes.number,\n  children: PropTypes.element,\n  onComplete: PropTypes.func\n};\n\nvar Countdown$1 = function (_React$Component) {\n  _inherits(Countdown$1, _React$Component);\n\n  function Countdown$1(props) {\n    var _this;\n\n    _classCallCheck(this, Countdown$1);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Countdown$1).call(this, props));\n    _this.mounted = false;\n    _this.legacyMode = false;\n    _this.legacyCountdownRef = React.createRef();\n\n    _this.tick = function () {\n      var onTick = _this.props.onTick;\n\n      var timeDelta = _this.calcTimeDelta();\n\n      _this.setTimeDeltaState(timeDelta);\n\n      if (onTick && timeDelta.total > 0) {\n        onTick(timeDelta);\n      }\n    };\n\n    _this.start = function () {\n      _this.setState(function (_ref) {\n        var offsetStart = _ref.offsetStart,\n            offsetTime = _ref.offsetTime;\n        return {\n          offsetStart: 0,\n          offsetTime: offsetTime + (offsetStart ? Date.now() - offsetStart : 0)\n        };\n      }, function () {\n        var timeDelta = _this.calcTimeDelta();\n\n        _this.setTimeDeltaState(timeDelta);\n\n        _this.props.onStart && _this.props.onStart(timeDelta);\n\n        if (!_this.props.controlled) {\n          _this.clearInterval();\n\n          _this.interval = window.setInterval(_this.tick, _this.props.intervalDelay);\n        }\n      });\n    };\n\n    _this.pause = function () {\n      _this.clearInterval();\n\n      _this.setState({\n        offsetStart: _this.calcOffsetStart()\n      }, function () {\n        var timeDelta = _this.calcTimeDelta();\n\n        _this.setTimeDeltaState(timeDelta);\n\n        _this.props.onPause && _this.props.onPause(timeDelta);\n      });\n    };\n\n    _this.isPaused = function () {\n      return _this.state.offsetStart > 0;\n    };\n\n    _this.isCompleted = function () {\n      return _this.state.timeDelta.completed;\n    };\n\n    if (props.date) {\n      _this.state = {\n        timeDelta: _this.calcTimeDelta(),\n        offsetStart: props.autoStart ? 0 : _this.calcOffsetStart(),\n        offsetTime: 0\n      };\n    } else {\n      _this.legacyMode = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(Countdown$1, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.legacyMode) {\n        return;\n      }\n\n      this.mounted = true;\n      this.props.autoStart && this.start();\n      this.props.onMount && this.props.onMount(this.calcTimeDelta());\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.legacyMode) {\n        return;\n      }\n\n      if (!this.shallowCompareProps(this.props, prevProps)) {\n        this.setTimeDeltaState(this.calcTimeDelta());\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.legacyMode) {\n        return;\n      }\n\n      this.mounted = false;\n      this.clearInterval();\n    }\n  }, {\n    key: \"calcTimeDelta\",\n    value: function calcTimeDelta$1() {\n      var _this$props = this.props,\n          date = _this$props.date,\n          now = _this$props.now,\n          precision = _this$props.precision,\n          controlled = _this$props.controlled;\n      return calcTimeDelta(date, {\n        now: now,\n        precision: precision,\n        controlled: controlled,\n        offsetTime: this.state ? this.state.offsetTime : 0\n      });\n    }\n  }, {\n    key: \"calcOffsetStart\",\n    value: function calcOffsetStart() {\n      return Date.now();\n    }\n  }, {\n    key: \"addTime\",\n    value: function addTime(seconds) {\n      this.legacyCountdownRef.current.addTime(seconds);\n    }\n  }, {\n    key: \"clearInterval\",\n    value: function clearInterval() {\n      window.clearInterval(this.interval);\n    }\n  }, {\n    key: \"shallowCompareProps\",\n    value: function shallowCompareProps(propsA, propsB) {\n      var keysA = Object.keys(propsA);\n      return keysA.length === Object.keys(propsB).length && !keysA.some(function (keyA) {\n        var valueA = propsA[keyA];\n        var valueB = propsB[keyA];\n        return !propsB.hasOwnProperty(keyA) || !(valueA === valueB || valueA !== valueA && valueB !== valueB);\n      });\n    }\n  }, {\n    key: \"setTimeDeltaState\",\n    value: function setTimeDeltaState(timeDelta) {\n      var _this2 = this;\n\n      var callback;\n\n      if (!this.state.timeDelta.completed && timeDelta.completed) {\n        this.clearInterval();\n\n        callback = function callback() {\n          return _this2.props.onComplete && _this2.props.onComplete(timeDelta);\n        };\n      }\n\n      if (this.mounted) {\n        return this.setState({\n          timeDelta: timeDelta\n        }, callback);\n      }\n    }\n  }, {\n    key: \"getApi\",\n    value: function getApi() {\n      return this.api = this.api || {\n        start: this.start,\n        pause: this.pause,\n        isPaused: this.isPaused,\n        isCompleted: this.isCompleted\n      };\n    }\n  }, {\n    key: \"getRenderProps\",\n    value: function getRenderProps() {\n      var _this$props2 = this.props,\n          daysInHours = _this$props2.daysInHours,\n          zeroPadTime = _this$props2.zeroPadTime,\n          zeroPadDays = _this$props2.zeroPadDays;\n      var timeDelta = this.state.timeDelta;\n      return Object.assign({}, timeDelta, {\n        api: this.getApi(),\n        props: this.props,\n        formatted: formatTimeDelta(timeDelta, {\n          daysInHours: daysInHours,\n          zeroPadTime: zeroPadTime,\n          zeroPadDays: zeroPadDays\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.legacyMode) {\n        var _this$props3 = this.props,\n            count = _this$props3.count,\n            _children = _this$props3.children,\n            onComplete = _this$props3.onComplete;\n        return React.createElement(Countdown, {\n          ref: this.legacyCountdownRef,\n          count: count,\n          onComplete: onComplete\n        }, _children);\n      }\n\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          renderer = _this$props4.renderer;\n      var renderProps = this.getRenderProps();\n\n      if (renderer) {\n        return renderer(renderProps);\n      }\n\n      if (children && this.state.timeDelta.completed) {\n        return React.cloneElement(children, {\n          countdown: renderProps\n        });\n      }\n\n      var _renderProps$formatte = renderProps.formatted,\n          days = _renderProps$formatte.days,\n          hours = _renderProps$formatte.hours,\n          minutes = _renderProps$formatte.minutes,\n          seconds = _renderProps$formatte.seconds;\n      return React.createElement(\"span\", null, days, days ? ':' : '', hours, \":\", minutes, \":\", seconds);\n    }\n  }]);\n\n  return Countdown$1;\n}(React.Component);\nCountdown$1.defaultProps = Object.assign({}, timeDeltaFormatOptionsDefaults, {\n  controlled: false,\n  intervalDelay: 1000,\n  precision: 0,\n  autoStart: true\n});\nCountdown$1.propTypes = {\n  date: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string, PropTypes.number]),\n  daysInHours: PropTypes.bool,\n  zeroPadTime: PropTypes.number,\n  zeroPadDays: PropTypes.number,\n  controlled: PropTypes.bool,\n  intervalDelay: PropTypes.number,\n  precision: PropTypes.number,\n  autoStart: PropTypes.bool,\n  children: PropTypes.element,\n  renderer: PropTypes.func,\n  now: PropTypes.func,\n  onMount: PropTypes.func,\n  onStart: PropTypes.func,\n  onPause: PropTypes.func,\n  onTick: PropTypes.func,\n  onComplete: PropTypes.func\n};\n\nexport default Countdown$1;\nexport { calcTimeDelta, formatTimeDelta, zeroPad };\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  getUserDetails,\r\n  setAuthorizationToken,\r\n  set2faCode,\r\n  send2faCode,\r\n  confirm2faCode,\r\n  setCurrentUser,\r\n  removeCurrentUser,\r\n} from '@/store/actions/auth';\r\nimport { addError } from '@/store/actions/error';\r\nimport CountDown from 'react-countdown';\r\nimport { wrapperStyling } from '@/utils/styling';\r\nimport Loading from '@/utils/Loading';\r\n\r\nconst INITIAL_STATE = {\r\n  code: '',\r\n};\r\n\r\nfunction TwoFactor() {\r\n  const [value, setValue] = useState(INITIAL_STATE);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { error } = useSelector((state) => state.error);\r\n  const { code, expiry } = useSelector((state) => state.user);\r\n\r\n  const handleChange = (e) =>\r\n    setValue({ ...value, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setValue(INITIAL_STATE);\r\n    // check if code matches\r\n    confirm2faCode(value.code, dispatch).then(() => {\r\n      const token = window.localStorage.getItem('jwt');\r\n      if (token) {\r\n        getUserDetails()\r\n          .then(\r\n            ({\r\n              email,\r\n              name,\r\n              createdAt,\r\n              profileImage,\r\n              twoFactorCode,\r\n              twoFactorCodeExpire,\r\n              recoveryEmail,\r\n              twoFactorEnable,\r\n            }) => {\r\n              const userDetails = {\r\n                email,\r\n                name,\r\n                createdAt,\r\n                profileImage,\r\n                twoFactorCode,\r\n                twoFactorCodeExpire,\r\n                recoveryEmail,\r\n                twoFactorEnable,\r\n              };\r\n              dispatch(setCurrentUser(userDetails));\r\n              history.push('/');\r\n            },\r\n          )\r\n          .catch(() => dispatch(removeCurrentUser()));\r\n      }\r\n      history.push('/login');\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // get jwt from localstorage and populate state\r\n    const token = window.localStorage.getItem('jwt');\r\n    if (token) {\r\n      // set token as header\r\n      setAuthorizationToken(token);\r\n      // get user data\r\n      getUserDetails()\r\n        .then(({ twoFactorCode, twoFactorCodeExpire }) => {\r\n          // if code doesn't exist push to dashboard\r\n          if (!twoFactorCode) {\r\n            history.push('/');\r\n          }\r\n          // set 2facode\r\n          dispatch(set2faCode(twoFactorCode, twoFactorCodeExpire));\r\n        })\r\n        .catch(() => {\r\n          // redirect to login\r\n          history.push('/login');\r\n        });\r\n    } else {\r\n      // redirect\r\n      history.push('/login');\r\n    }\r\n  }, [code]);\r\n\r\n  const resendCode = (e) => {\r\n    // send 2fa code\r\n    send2faCode()\r\n      .then(({ code, expiry }) => {\r\n        dispatch(set2faCode(code, expiry));\r\n      })\r\n      .catch((error) => addError(error));\r\n  };\r\n\r\n  const renderer = ({ minutes, seconds, completed }) => {\r\n    if (completed || minutes < 1) {\r\n      return (\r\n        <span className=\"text-danger\">\r\n          {minutes}:{seconds}\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span className=\"text-success\">\r\n          {minutes}:{seconds}\r\n        </span>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\" style={wrapperStyling}>\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          <React.Suspense fallback={Loading()}>\r\n            <div className=\"card\" style={{ marginTop: '20vh' }}>\r\n              <div className=\"card-body\">\r\n                <form onSubmit={handleSubmit}>\r\n                  <div className=\"text-center border-bottom mb-3\">\r\n                    <h3>Two Factor Authentication</h3>\r\n                    <p className=\"text-muted mb-1\">\r\n                      Please input the code sent to your e-mail address to\r\n                      access your account.{' '}\r\n                      {expiry ? (\r\n                        <span>\r\n                          The code will expire in:{' '}\r\n                          <span\r\n                            className=\"font-weight-bold d-block\"\r\n                            style={{ fontSize: '2.5rem' }}\r\n                          >\r\n                            {<CountDown date={expiry} renderer={renderer} />}\r\n                          </span>\r\n                        </span>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                  {error ? (\r\n                    <div className=\"alert alert-danger\">\r\n                      {Array.isArray(error.message) ? (\r\n                        <ul className=\"list-unstyled p-0 m-0\">\r\n                          {error.message.map((e, i) => (\r\n                            <li key={i}>{e}</li>\r\n                          ))}\r\n                        </ul>\r\n                      ) : (\r\n                        error.message\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Code\"\r\n                      name=\"code\"\r\n                      value={value.code}\r\n                      onChange={handleChange}\r\n                      className=\"form-control\"\r\n                    />\r\n                  </div>\r\n                  <button className=\"btn btn-primary btn-block\" type=\"submit\">\r\n                    Submit Code\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-secondary btn-block\"\r\n                    type=\"button\"\r\n                    onClick={resendCode}\r\n                  >\r\n                    Resend Code\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </React.Suspense>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TwoFactor;\r\n"],"sourceRoot":""}